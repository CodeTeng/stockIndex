(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"2BOX":function(e,t,r){"use strict";r.r(t);var l=r("lPZ1"),a=r("pW36");for(var o in a)"default"!==o&&function(e){r.d(t,e,function(){return a[e]})}(o);var i=r("KHd+"),n=Object(i.a)(a.default,l.a,l.b,!1,null,"5711cd4c",null);t.default=n.exports},SmWF:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPermissionsTree=t.del=t.edit=t.add=t.getDataTree=t.getTableData=void 0;var l=function(e){return e&&e.__esModule?e:{default:e}}(r("Nlzp"));t.getTableData=function(){return l.default.request({url:"/permissions",method:"get"})},t.getDataTree=function(){return l.default.request({url:"/permissions/tree",method:"get"})},t.add=function(e){return l.default.request({url:"/permission",method:"post",data:e})},t.edit=function(e){return l.default.request({url:"/permission",method:"put",data:e})},t.del=function(e){return l.default.request({url:"/permission/"+e,method:"delete"})},t.getPermissionsTree=function(){return l.default.request({url:"/permissions/tree/all",method:"get"})}},XBEE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r("SmWF");t.default={name:"menu-add",data:function(){return{loading:!1,dataTree:[],form:{type:1,title:"",pid:"0",url:"",name:"",icon:"",perms:"",method:"",code:"",orderNum:0},rules:{type:[{required:!0,message:"请输入类型",trigger:"blur"}],title:[{required:!0,message:"请输入菜单名称",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"}],pid:[{required:!0,message:"请输入所属菜单",trigger:"blur"}],url:[{required:!0,message:"请输入接口URL",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}]}}},created:function(){var e=this;this.$nextTick(function(){return e.request(l.getDataTree,{},e,function(t){return e.dataTree=t},!1)})},methods:{changeType:function(e){this.form.type=e},changePid:function(e){this.form.pid=e,console.log(this.form.pid)},submit:function(){var e=this;this.handleSubmit(l.add,this.$refs.form,this,function(t){e.$emit("handleGetTableData")},!0)}}}},lPZ1:function(e,t,r){"use strict";var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"menu-add"},[r("el-form",{ref:"form",staticStyle:{width:"80%"},attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:"类型",prop:"type","label-width":"200px"}},[r("el-radio-group",{on:{change:e.changeType},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[r("el-radio",{attrs:{label:1}},[e._v("目录")]),e._v(" "),r("el-radio",{attrs:{label:2}},[e._v("菜单")]),e._v(" "),r("el-radio",{attrs:{label:3}},[e._v("按钮")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"菜单名称",prop:"title","label-width":"200px"}},[r("el-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所属菜单",prop:"pid","label-width":"200px"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:e.changePid},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.dataTree,function(t,l){return e.dataTree.length>0?r("el-option",{key:l,attrs:{label:t.title,value:t.id,disabled:e.form.pid==t.id||e.form.id==t.id}},[r("span",{staticStyle:{float:"left"}},[e._v(e._s("|-----".repeat(t.level||0)+" "+t.title))])]):e._e()}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"接口URL",prop:"url","label-width":"200px"}},[r("el-input",{attrs:{placeholder:"请输入接口URL"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"图标icon",prop:"icon","label-width":"200px"}},[r("el-input",{attrs:{placeholder:"请输入图标icon"},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"name",prop:"name","label-width":"200px"}},[r("el-input",{attrs:{placeholder:"请输入name 必须与前端 vue 路由 name 一致且唯一，类型为菜单时必须填写"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),r("span",{staticStyle:{color:"red","font-size":"12px"}},[e._v("* name 必须与前端 vue 路由 name 一致且唯一，（类型为菜单时必须填写）")])],1),e._v(" "),1!=e.form.type?[r("el-form-item",{attrs:{label:"授权标识",prop:"perms","label-width":"200px"}},[r("el-input",{attrs:{placeholder:"请输入授权标识，如：sys:user:add"},model:{value:e.form.perms,callback:function(t){e.$set(e.form,"perms",t)},expression:"form.perms"}}),e._v(" "),r("span",{staticStyle:{color:"red","font-size":"12px"}},[e._v("* 类型为按钮时，必须填写授权标识")])],1),e._v(" "),r("el-form-item",{attrs:{label:"请求方式",prop:"method","label-width":"200px"}},[r("el-input",{attrs:{placeholder:"请输入请求方式，如：GET，POST，PUT，DELETE"},model:{value:e.form.method,callback:function(t){e.$set(e.form,"method",t)},expression:"form.method"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"按钮标识",prop:"code","label-width":"200px"}},[r("el-input",{attrs:{placeholder:"请输入按钮标识，如：btn-dept-delete"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),e._v(" "),r("span",{staticStyle:{"font-size":"12px"}},[r("i",{staticStyle:{color:"red","padding-right":"2px"}},[e._v("* ")]),e._v("按钮标识，主要用于前端按钮权限的显示与隐藏")])],1)]:e._e(),e._v(" "),r("el-form-item",{attrs:{label:"排序码",prop:"orderNum","label-width":"200px"}},[r("el-input",{attrs:{placeholder:"请输入排序码"},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1),e._v(" "),r("el-form-item",{attrs:{"label-width":"200px"}},[r("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],2)],1)},a=[];r.d(t,"a",function(){return l}),r.d(t,"b",function(){return a})},pW36:function(e,t,r){"use strict";r.r(t);var l=r("XBEE"),a=r.n(l);for(var o in l)"default"!==o&&function(e){r.d(t,e,function(){return l[e]})}(o);t.default=a.a}}]);