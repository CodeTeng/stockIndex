(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{MvyT:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("eACJ"),a=r("SmWF");t.default={name:"roles-add",data:function(){var e=this;return{defaultProps:{children:"children",label:"title"},permissionsTree:[],form:{labelWidth:"200px",formFields:{name:"",description:"",status:1,permissionsIds:[]},formLabel:[{prop:"name",title:"角色名称",type:"input",width:"80%",placeholder:"请输入角色名称"},{prop:"description",title:"角色描述",type:"input",width:"80%",placeholder:"请输入角色描述"},{prop:"permissionsIds",title:"选择权限",type:"slot",slot:"formItem"}],buttons:{options:[{title:"提交",type:"primary",loading:!1,click:function(t,r){e.handleSubmit(n.add,t,e,function(t){return e.$emit("handleGetTableData")},!0)}}]},rules:{id:[{required:!0}],name:[{required:!0,message:"请输入角色名称",trigger:"blur"},{min:1,max:20,message:"长度在 20 个字符内",trigger:"blur"}],permissionsIds:[{required:!0,message:"请输入选择权限",trigger:"blur"}]}}}},created:function(){var e=this;this.$nextTick(function(){return e.request(a.getPermissionsTree,{},e,function(t){return e.permissionsTree=t},!1)})},methods:{change:function(e){this.form.pid=e},getChecked:function(){this.form.formFields.permissionsIds=this.$refs.tree.getCheckedKeys().concat(this.$refs.tree.getHalfCheckedKeys()),console.log(this.form.formFields.permissionsIds)}}}},P9Pe:function(e,t,r){"use strict";r.r(t),t.default={el:{colorpicker:{confirm:"OK",clear:"Ryd"},datepicker:{now:"Nu",today:"I dag",cancel:"Annuller",clear:"Ryd",confirm:"OK",selectDate:"Vælg dato",selectTime:"Vælg tidspunkt",startDate:"Startdato",startTime:"Starttidspunkt",endDate:"Slutdato",endTime:"Sluttidspunkt",prevYear:"Forrige år",nextYear:"Næste år",prevMonth:"Forrige måned",nextMonth:"Næste måned",year:"",month1:"Januar",month2:"Februar",month3:"Marts",month4:"April",month5:"Maj",month6:"Juni",month7:"Juli",month8:"August",month9:"September",month10:"Oktober",month11:"November",month12:"December",week:"uge",weeks:{sun:"Søn",mon:"Man",tue:"Tir",wed:"Ons",thu:"Tor",fri:"Fre",sat:"Lør"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"Maj",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Okt",nov:"Nov",dec:"Dec"}},select:{loading:"Henter",noMatch:"Ingen matchende data",noData:"Ingen data",placeholder:"Vælg"},cascader:{noMatch:"Ingen matchende data",loading:"Henter",placeholder:"Vælg",noData:"Ingen data"},pagination:{goto:"Gå til",pagesize:"/side",total:"Total {total}",pageClassifier:""},messagebox:{confirm:"OK",cancel:"Annuller",error:"Ugyldig input"},upload:{deleteTip:"tryk slet for at fjerne",delete:"Slet",preview:"Forhåndsvisning",continue:"Fortsæt"},table:{emptyText:"Ingen data",confirmFilter:"Bekræft",resetFilter:"Nulstil",clearFilter:"Alle",sumText:"Sum"},tree:{emptyText:"Ingen data"},transfer:{noMatch:"Ingen matchende data",noData:"Ingen data",titles:["Liste 1","Liste 2"],filterPlaceholder:"Indtast søgeord",noCheckedFormat:"{total} emner",hasCheckedFormat:"{checked}/{total} valgt"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},empty:{description:"Ingen data"}}}},SZYX:function(e,t,r){"use strict";r.r(t);var n=r("ZygF"),a=r("VMnc");for(var o in a)"default"!==o&&function(e){r.d(t,e,function(){return a[e]})}(o);var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,"ed65418e",null);t.default=i.exports},SmWF:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPermissionsTree=t.del=t.edit=t.add=t.getDataTree=t.getTableData=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r("Nlzp"));t.getTableData=function(){return n.default.request({url:"/permissions",method:"get"})},t.getDataTree=function(){return n.default.request({url:"/permissions/tree",method:"get"})},t.add=function(e){return n.default.request({url:"/permission",method:"post",data:e})},t.edit=function(e){return n.default.request({url:"/permission",method:"put",data:e})},t.del=function(e){return n.default.request({url:"/permission/"+e,method:"delete"})},t.getPermissionsTree=function(){return n.default.request({url:"/permissions/tree/all",method:"get"})}},VMnc:function(e,t,r){"use strict";r.r(t);var n=r("MvyT"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);t.default=a.a},ZygF:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"roles-add"},[r("component-form",{attrs:{data:e.form,width:80}},[r("template",{slot:"formItem"},[r("el-tree",{ref:"tree",attrs:{data:e.permissionsTree,"show-checkbox":"","node-key":"id","default-expanded-keys":[2],"default-checked-keys":[5],props:e.defaultProps},on:{check:e.getChecked},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node;t.data;return r("span",{staticClass:"custom-tree-node"},[r("span",[e._v(e._s(n.label))]),e._v(" "),1==n.level?r("el-tag",{attrs:{size:"mini"}},[e._v("目录")]):e._e(),e._v(" "),2==n.level?r("el-tag",{attrs:{type:"success",size:"mini"}},[e._v("菜单")]):e._e(),e._v(" "),3==n.level?r("el-tag",{attrs:{type:"warning",size:"mini"}},[e._v("按钮")]):e._e()],1)}}])})],1)],2)],1)},a=[];r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a})},eACJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.del=t.updateStatus=t.edit=t.getPermissionsIds=t.add=t.getTableData=void 0;var n=a(r("Nlzp"));a(r("P9Pe"));function a(e){return e&&e.__esModule?e:{default:e}}t.getTableData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.request({url:"/roles",method:"post",data:e})},t.add=function(e){return n.default.request({url:"/role",method:"post",data:e})},t.getPermissionsIds=function(e){return n.default.request({url:"/role/"+e,method:"get"})},t.edit=function(e){return n.default.request({url:"/role",method:"put",data:e})},t.updateStatus=function(e){return n.default.request({url:"/role/"+e[0]+"/"+e[1],method:"post"})},t.del=function(e){return n.default.request({url:"/role/"+e,method:"delete"})}}}]);